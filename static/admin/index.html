<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>Content Manager</title>
  </head>
  <body>
    <script src="https://unpkg.com/@sveltia/cms/dist/sveltia-cms.js"></script>
    <script>
      CMS.registerEditorComponent({
        id: "wiki-link",
        label: "Wiki Link",
        type: 'inline', 
        fields: [{ 
          name: 'title', 
          label: 'Page Title', 
          widget: 'string' 
        }],
        pattern: /{{< wiki-link "(.*?)" >}}/,
        fromBlock: function(match) {
          return {
            title: match[1]
          };
        },
        toBlock: function(data) {
          return `{{< wiki-link "${data.title}" >}}`;
        },
        toPreview: function(data) {
          return ``;
        }
      });
    </script>
  </body>
</html>